<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Natural Disasters Dashboard</title>

    <!-- Styling library -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Vega lite dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  </head>

  <body class="bg-slate-900 text-gray-100 flex items-center justify-center" style="width: 1200px; height: 3000px; margin: 0 auto;">
  <div class="bg-slate-800 p-10 rounded-2xl shadow-lg w-[1200px] h-[3000px]">
    <h1 class="text-5xl font-bold mb-8 text-center">Australia's Bushfire Problem</h1>
    <h2 class="text-3xl font-semibold mb-8 text-center">Australia vs World</h2>

    <section class="text-center">
      <h2 class="text-2xl font-semibold mb-4">Major Natural Disasters in Australia 2000-2025</h2>

      
      <select
        id="map-select" class="text-gray-800 font-medium rounded-lg p-2 mb-6 shadow focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="Charts/Maps/Flood.json">Floods</option>
        <option value="Charts/Maps/Earthquake.json">Earthquakes</option>
        <option value="Charts/Maps/Drought.json">Droughts</option>
        <option value="Charts/Maps/Cyclone.json">Cyclones</option>
        
      </select>

      <div id="disaster-map" class="bg-slate-300 p-4 rounded-xl shadow-lg w-[1100px] h-[600px] mx-auto"></div>

      <!-- Layout starts here -->
        <!-- 1. Small rectangular container (info paragraph) -->
        <div class="bg-slate-700 rounded-xl shadow-md w-[1100px] h-[50px] mx-auto mb-10">
          <p class="p-2 text-2xl font-semibold mb-4 text-center">Let's compare the Natural disasters above with Bushfires below</p>
        </div>
        <div id="Fires-map" class="bg-slate-300 p-4 rounded-xl shadow-lg w-[1100px] h-[600px] mx-auto"></div>

        <!-- 2. Two square containers next to each other -->
        <div class="flex justify-center gap-6 mb-10">
          
          <div class="bg-slate-900 rounded-xl shadow-md w-[550px] h-[480px] flex items-center justify-center">
            <!-- Inner div (for the actual Vega chart) -->
            <div id="area-burnt-chart" class="w-[500px] h-[450px]"></div>
          </div>



          <div class="bg-slate-700 rounded-xl shadow-md w-[525px] h-[480px]"></div>
        </div>

        <!-- 3. One large rectangular container (full width) -->
        <div class="bg-slate-700 rounded-xl shadow-md w-[1100px] h-[300px] mx-auto mb-10"></div>

        <!-- 4. Two more adjacent square containers -->
        <div class="flex justify-center gap-6 mb-10">
          <div class="bg-slate-700 rounded-xl shadow-md w-[525px] h-[480px]"></div>
          <div class="bg-slate-700 rounded-xl shadow-md w-[550px] h-[480px]"></div>
        </div>

        <!-- 5. Final small rectangular container -->
        <div class="bg-slate-700 rounded-xl shadow-md w-[1000px] h-[120px] mx-auto mb-10"></div>
      </section>
    </div>
    </section>


    <!-- Embed all charts -->
     <!-- I used GitHub Copilot, to help create the functionality for the dropdown disaster selctor
      the generated code is the following 28 lines of code, slightly altered to fit the context of my project
      only 1 iteration was used.-->
    <script>
      const embedOptions = { actions: false };

      const mapSelect = document.getElementById("map-select");
      const target = "#disaster-map";

      async function loadMap(path) {
        const container = document.querySelector(target);
        container.textContent = "Loading...";
        try {
          const res = await fetch(path);
          if (!res.ok) throw new Error("Failed to load spec: " + res.status);
          const spec = await res.json();
          await vegaEmbed(target, spec, embedOptions);
        } catch (err) {
          console.error(err);
          container.textContent = "Failed to load visualization â€” check console.";
        }
      }

      // Load initial selection
      loadMap(mapSelect.value);

      // Change handler
      mapSelect.addEventListener("change", () => {
        loadMap(mapSelect.value);
      });


      // Area Burnt Chart
      const BarEmbed = {actions: false, width: 450, height: 400};
      var areabar = "Charts/Other/AreaBurntBar.json";
      vegaEmbed("#area-burnt-chart", areabar, BarEmbed).then(function(result) {}).catch(console.error);
      
      // 2019 Bushfire Map
      const fireEmbed = {actions: false, width: 900, height: 550};
      var Fires = "Charts/Maps/2019Fires.json";
      vegaEmbed("#Fires-map", Fires, fireEmbed).then(function(result) {}).catch(console.error);
    </script>

    <style>
  /* Target the Vega-Lite bound input (the dropdown) */
  .vega-bind select {
    background-color: rgb(255, 255, 255);
    color: rgb(0, 0, 0);
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 4px 8px;
  }

  /* Style dropdown options */
  .vega-bind select option {
    background-color: rgb(255, 255, 255);
    color: rgb(0, 0, 0);
  }
  </style>


  </body>
</html>
